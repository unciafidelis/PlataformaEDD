<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex/dist/contrib/auto-render.min.js"
          onload="renderMathInElement(document.body);"></script>

    <title>Estructura de Datos</title>
</head>
<body>
    <!-- Section One -->
    <section class="section-one">
        <div class="container">
            <h1>Estructura de Datos con Python</h1>
            <p class="highlight">Al final de la lección tú sabrás:</p>
            <ul>
                <li>Explicar y entender claramente qué son las estructuras de datos</li>
                <li>Cómo se utilizan las estructuras de datos en la industria actual</li>
                <li>Cuáles son las estructuras de datos más utilizadas</li>
                <li>Un panorama general del curso de Estructuras de Datos</li>
            </ul>
        </div>
        <div class="image-container">
            <img src="{{ url_for('static', filename='/assets/wave_bottom.svg') }}" alt="Wave bottom design">
        </div>
    </section>

    <section class="section-two">
        <div class="container">
            <h2>Estructura de Datos</h2>
            <p>
                Las estructuras de datos son un método para organizar los datos 
                en una computadora o sistema, de manera que se puedan <b>manipular</b>, 
                <b>recuperar</b> y <b>almacenar</b> de forma eficiente.
            </p>
            <p>Las estructuras de datos son útiles para:</p>
            <ul>
                <li><b>Integrar</b> y compartir datos de múltiples fuentes</li>
                <li><b>Optimizar</b> el almacenamiento de datos</li>
                <li>Hacer que los datos sean <b>accesibles</b> para los usuarios</li>
                <li><b>Reducir</b> los esfuerzos de administración de datos</li>
                <li><b>Mejorar</b> la eficiencia de los programas</li>
            </ul>
            <p>
                Las estructuras de datos pueden ser lineales o no lineales. Las estructuras lineales son aquellas en las que los datos 
                se organizan en una lista ordenada, como las matrices, las listas, las colas y las pilas. 
                Las estructuras no lineales son aquellas en las que cada elemento puede estar enlazado a cualquier otro componente.
            </p>
            </div>
    </section>

    <section class="section-three">
        <div class="image-container">
            <img src="{{ url_for('static', filename='/assets/arrow.png') }}" alt="Wave bottom design">
        </div>
        <div class="content-wrapper">
            <!-- Texto en la columna izquierda -->
            <div class="text-content">
                <h2>Ejemplos</h2>
                <p>
                    En el ámbito de la informática, las estructuras de datos son aquellas que nos permiten, como desarrolladores, organizar la información de manera eficiente, y en definitiva diseñar la solución correcta para un determinado problema.
                    <ul>
                        <li>Arrays/Arreglos</li>
                        <li>List/Listas Enlazadas</li>
                        <li>HashMaps/HashTables</li>
                        <li>Stacks</li>
                        <li>Queues/Filas/Colas</li>
                        <li>BinarySearchTree (BST)</li>
                    </ul>
                </p>
            </div>
    
            <!-- Video en la columna derecha -->
            <div class="video-container">
                <iframe 
            src="https://www.youtube.com/embed/4Bq7rI2t6vU?si=0RmehYiiE8FniXpJ&controls=0" 
            title="YouTube video player" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
            referrerpolicy="strict-origin-when-cross-origin" 
            allowfullscreen>
        </iframe>
        <button class="play-button">▶</button>
            </div>
        </div>
        <script>
            const videoWrapper = document.querySelector('.video-container');
            const playButton = document.querySelector('.play-button');
            playButton.addEventListener('click', () => {
                videoWrapper.classList.add('active');
            });
        </script>    
    </section>
    <section onload="myRender()">
        <h2>Código de ejemplo</h2>
        <div class="code-container">
            <div class="code-scrollable">
              <pre id="codeBlock">
        # Inicializar el acumulador y el contador
        AC = 0
        I = 1
        
        # Bucle para pedir 50 calificaciones
        while I <= 2:
            # Pedir al usuario que ingrese una calificación
            C = float(input(f"Ingrese la calificación {I}: "))
            
            # Sumar la calificación al acumulador
            AC += C
            
            # Incrementar el contador
            I += 1
        
        # Calcular el promedio
        PROM = AC / 2
        
        # Mostrar el resultado
        print(f"El promedio de las 2 calificaciones es: {PROM}")
        
        # Inicializar el contador de calificaciones mayores al promedio
        CONT = 0
        I = 1
        
        # Definir un valor para el promedio
        PROM = float(input("Ingrese el valor del promedio: "))
        
        # Bucle para pedir 2 calificaciones
        while I <= 2:
            # Pedir al usuario que ingrese una calificación
            C = float(input(f"Ingrese la calificación {I}: "))
            
            # Si la calificación es mayor que el promedio, incrementar el contador
            if C > PROM:
                CONT += 1
            
            # Incrementar el contador de iteraciones
            I += 1
        
        # Mostrar el resultado
        print(f"Cantidad de calificaciones mayores que el promedio: {CONT}")
              </pre>
            
            <button class="copy-button" onclick="copyToClipboard()">
                <span class="material-icons">content_copy</span>
              </button>
            </div>
            <div id="copyConfirmation" class="copy-confirmation">Copied to clipboard!</div>
          
            
              <div id="outputBlock" class="output-block"></div>
            
              <script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script>
              <script>
                async function runCode() {
                  const outputBlock = document.getElementById("outputBlock");
                  outputBlock.textContent = "Running...";
                  const codeBlock = document.getElementById("codeBlock").innerText;
            
                  // Limpiar la indentación extra
                  const cleanedCode = removeExtraIndentation(codeBlock);
            
                  const pyodide = await loadPyodide();
                  try {
                    const result = await pyodide.runPython(cleanedCode);
                    outputBlock.textContent = result || "Execution completed.";
                  } catch (err) {
                    outputBlock.textContent = `Error: ${err.message}`;
                  }
                }
            
                function copyToClipboard() {
                  const codeBlock = document.getElementById("codeBlock").innerText;
                    
                  // Limpiar la indentación extra
                  const cleanedCode = removeExtraIndentation(codeBlock);
            
                    navigator.clipboard.writeText(codeBlock).then(() => {
                    const confirmation = document.getElementById("copyConfirmation");
                    confirmation.classList.add("show");
                    setTimeout(() => {
                        confirmation.classList.remove("show");
                    }, 2000);
                    }).catch(err => {
                        console.error("Failed to copy code: ", err);
                    });
                }
            
                function removeExtraIndentation(code) {
                  // Dividir el código en líneas y eliminar indentación innecesaria
                  const lines = code.split("\n");
                  const minIndent = Math.min(
                    ...lines
                      .filter(line => line.trim().length > 0)
                      .map(line => line.match(/^(\s*)/)[1].length)
                  );
            
                  return lines.map(line => line.slice(minIndent)).join("\n");
                }
              </script>
          
    </section>
    <section>
        <div>
            <textarea id="codeInput" placeholder="Ej. print('hola mundo')" rows="10" cols="50"></textarea>
            <button onclick="runCode()"><span class="material-icons">
                play_arrow
                </span></button>
        </div>
          
        <div id="inputContainer">
            <!-- Dynamic input messages will be inserted here -->
          </div>
          
          <div class="container" id="outputContainer">
            <!-- Execution result will be shown here -->
          </div>
        
        
          <script>
            async function runCode() {
              const outputContainer = document.getElementById("outputContainer");
              outputContainer.innerHTML = "<h2>Resultado</h2>"; // Limpiar resultados previos
          
              const codeInput = document.getElementById("codeInput").value;
          
              const pyodide = await loadPyodide();
          
              // Variables para almacenar mensajes de input y respuestas del usuario
              let inputIndex = 0;
              const inputs = [];
              const messages = [];
          
              // Modificar el código Python para interceptar inputs
              const modifiedCode = codeInput.replace(/input\((["'].*?["']|\s*)\)/g, (_, promptText) => {
                const userMessage = promptText.trim().replace(/^["']|["']$/g, "");
                messages.push(userMessage || "Ingrese un dato:"); // Guardar el texto del input
                return `__inputs[${inputIndex++}]`; // Sustituir con una variable de índice
              });
          
              try {
                // Pedir entradas al usuario antes de ejecutar el código
                for (const message of messages) {
                  const userInput = prompt(message); // Mostrar mensaje en cuadro de diálogo
                  inputs.push(userInput || ""); // Almacenar la respuesta
                }
          
                // Redirigir la salida estándar de Python
                pyodide.runPython(`
          import sys
          from io import StringIO
          sys.stdout = StringIO()  # Redirigir salida estándar
          sys.stderr = StringIO()  # Redirigir salida de error
                `);
          
                // Pasar las entradas al entorno de ejecución Python
                pyodide.globals.set("__inputs", inputs);
          
                // Ejecutar el código modificado
                await pyodide.runPython(modifiedCode);
          
                // Capturar exclusivamente la salida de los print()
                const result = pyodide.runPython("sys.stdout.getvalue().strip()");
          
                // Mostrar solo el contenido de los print() en el contenedor de resultados
                if (result) {
                  result
                    .split("\n")
                    .forEach((line) => {
                      // Ignorar cualquier línea que coincida con mensajes de input
                      if (!messages.some((msg) => line.includes(msg))) {
                        const resultItem = document.createElement("div");
                        resultItem.className = "result-item";
                        resultItem.textContent = line.trim(); // Mostrar línea de salida
                        outputContainer.appendChild(resultItem);
                      }
                    });
                } else {
                  const noOutput = document.createElement("div");
                  noOutput.textContent = "No hubo salida del programa.";
                  outputContainer.appendChild(noOutput);
                }
              } catch (err) {
                // Manejar errores
                const errorItem = document.createElement("div");
                errorItem.className = "result-item";
                errorItem.style.color = "red";
                errorItem.textContent = `Error: ${err.message}`;
                outputContainer.appendChild(errorItem);
              }
            }
          </script>
          
          
          
          
          
          
    </section>
    <section class="section-two">
        <div class="container">
        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <h3>Epic</h3>
                <span class="icon">+</span>
            </div>
            <div class="section-content">
                <p>An <strong>epic</strong> represents a large body of work that can break down into smaller chunks.</p>
                <p>👉 <strong>For example:</strong> You might create an epic for a redesign of a homepage, or writing and publishing a series of blog posts.</p>
                <p>Known as "parent" issues, epics contain smaller issues within them. You and your team can decide what's a large body of work and what isn’t.</p>
            </div>
        </div>
    
        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <h3>Story</h3>
                <span class="icon">+</span>
            </div>
            <div class="section-content">
                <p>A <strong>story</strong> is a single feature or functionality described from the end-user's perspective.</p>
            </div>
        </div>
    
        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <h3>Task</h3>
                <span class="icon">+</span>
            </div>
            <div class="section-content">
                <p>A <strong>task</strong> is a unit of work that needs to be completed as part of a story or epic.</p>
            </div>
        </div>
    
        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <h3>Bug</h3>
                <span class="icon">+</span>
            </div>
            <div class="section-content">
                <p>A <strong>bug</strong> represents a defect or error in the system that needs to be fixed.</p>
            </div>
        </div>
    
        <div class="section">
            <div class="section-header" onclick="toggleSection(this)">
                <h3>Subtask</h3>
                <span class="icon">+</span>
            </div>
            <div class="section-content">
                <p>A <strong>subtask</strong> is a smaller, more manageable piece of work derived from a story or task.</p>
            </div>
        </div>
    
        <script>
            function toggleSection(header) {
                const content = header.nextElementSibling;
                const icon = header.querySelector('.icon');
                
                // Toggle content display
                if (content.style.display === 'block') {
                    content.style.display = 'none';
                    icon.textContent = '+'; // Change icon to +
                } else {
                    content.style.display = 'block';
                    icon.textContent = '−'; // Change icon to -
                }
            }
        </script>
        </div>
    </section>
    <section>
        
        <div class="tabs">
            <div class="tab active" data-tab="epics">EPICS</div>
            <div class="tab" data-tab="stories">STORIES, TASKS, & BUGS</div>
            <div class="tab" data-tab="subtasks">SUBTASKS</div>
        </div>
    
        <div id="epics" class="content active">
            <h3>Epics</h3>
            <p>Epics appear in the Epics panel of the backlog. 
                They may also appear on your board, depending on how your team set it up.
            </p>
            </div>
    
        <div id="stories" class="content">
            <h3>Stories, Tasks, & Bugs</h3>
            <p>Details about stories, tasks, and bugs will be displayed here.</p>
        </div>
    
        <div id="subtasks" class="content">
            <h3>Subtasks</h3>
            <p>Details about subtasks will be displayed here.</p>
        </div>
    
        <script>
            const tabs = document.querySelectorAll('.tab');
            const contents = document.querySelectorAll('.content');
    
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // Remove active class from all tabs
                    tabs.forEach(t => t.classList.remove('active'));
                    // Add active class to the clicked tab
                    tab.classList.add('active');
    
                    // Hide all content sections
                    contents.forEach(content => content.classList.remove('active'));
                    // Show the content corresponding to the clicked tab
                    document.getElementById(tab.getAttribute('data-tab')).classList.add('active');
                });
            });
        </script>
        
    </section>
    <section>
        <div class="description">
            A continuación se muestra una representación visual de un arreglo unidimensional. Cada cuadro representa un elemento del arreglo, con su índice mostrado arriba y su valor dentro.
          </div>
          <div class="array-container"></div>
            <div class="controls">
    <input type="text" id="array-value" placeholder="Valor" maxlength="1">
    <button id="add-btn">Agregar elemento</button>
    <button id="remove-btn" disabled>Eliminar elemento</button>
  </div>
      
          <script>
            const arrayContainer = document.querySelector('.array-container');
const addButton = document.getElementById('add-btn');
const removeButton = document.getElementById('remove-btn');
const inputValue = document.getElementById('array-value');
let selectedElement = null;

// Función para agregar un elemento
function addElement() {
  const value = inputValue.value.trim();
  if (value === '') return;

  const arrayItem = document.createElement('div');
  arrayItem.classList.add('array-item');

  // Crear el índice
  const index = document.createElement('div');
  index.classList.add('index');
  index.textContent = arrayContainer.childElementCount;

  // Crear el valor
  const valueElement = document.createElement('div');
  valueElement.classList.add('value');
  valueElement.textContent = value;

  // Agregar índice y valor al elemento del arreglo
  arrayItem.appendChild(index);
  arrayItem.appendChild(valueElement);

  // Evento para seleccionar el elemento
  arrayItem.addEventListener('click', () => {
    clearSelection(); // Asegura que solo un elemento esté seleccionado
    selectedElement = arrayItem;
    arrayItem.style.backgroundColor = '#c0e8f0'; // Color de selección
    removeButton.disabled = false; // Habilita el botón de eliminar
  });

  arrayContainer.appendChild(arrayItem);
  inputValue.value = '';
  inputValue.focus();
  updateIndices();
}

// Limpia la selección actual
function clearSelection() {
  if (selectedElement) {
    selectedElement.style.backgroundColor = '#f0f0f0'; // Color por defecto
  }
  selectedElement = null;
  removeButton.disabled = true; // Deshabilita el botón de eliminar
}

// Evento para el botón "Agregar"
addButton.addEventListener('click', addElement);

// Evento para presionar la tecla "Enter" en el campo de entrada
inputValue.addEventListener('keypress', (event) => {
  if (event.key === 'Enter') {
    addElement();
    event.preventDefault(); // Evita el comportamiento predeterminado
  }
});

// Evento para eliminar el elemento seleccionado
removeButton.addEventListener('click', () => {
  if (selectedElement) {
    arrayContainer.removeChild(selectedElement);
    clearSelection();
    updateIndices();
  }
});

// Actualizar los índices de los elementos en el arreglo
function updateIndices() {
  const items = document.querySelectorAll('.array-item');
  items.forEach((item, index) => {
    const indexElement = item.querySelector('.index');
    indexElement.textContent = index;
  });
}


          </script>
    </section>

<section>
    <div class="info-box">
        <span class="material-icons info-icon">info</span>
        <div class="info-content">
          <p>
            You can't edit every field. The <strong>issue key</strong> stays the same so that you always have a unique way of identifying each issue. The <strong>Created</strong> and <strong>Updated</strong> fields generate automatically based on when you created the issue or last updated it, so you can't edit them.
          </p>
        </div>
      </div>
</section>

    <!-- JavaScript -->
    <script type="text/javascript" src="{{ url_for('static', filename='index.js') }}"></script>
    <script>
        $(document).ready(function () { // this need jquery
          renderMathInElement(document.body, {
            // ...options...
            delimiters: [
              { left: "$$", right: "$$", display: true },
              { left: "$", right: "$", display: false },
              { left: "\\[", right: "\\]", display: true }
            ]
          });
        });
        </script>

</body>
</html>
